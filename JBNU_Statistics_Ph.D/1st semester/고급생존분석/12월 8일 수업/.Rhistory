library(survival)
library(KMsurv)
library(tidyverse)
library(survminer)
library(KMsurv)
data(larnyx)
data(larynx)
head(larynx)
data(larynx)
larynx$stage <- as.factor(larynx$stage)
head(larynx)
summary(larynx)
attach(larynx)
Surv(time, delta==1)
fit <- survfit(Surv(time, delta==1) ~ 1, data=larynx)
summary(fit)
ggsurvplot(fit,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
fit1 <- survfit(Surv(time, delta==1) ~ stage, data=larynx)
summary(fit1)
ggsurvplot(fit1,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
survdiff(Surv(time, delta==1) ~ stage, data=larynx, rho=1)
a1 <- survreg(Surv(time, delta==1) ~ 1, data=larynx, dist="exponential")
summary(a1)
a2 <- survreg(Surv(time, delta==1) ~ 1, data=larynx, dist="weibull")
summary(a2)
b1 <- survreg(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, dist="exponential")
summary(b1)
larynx$stage <- as.numeric(larynx$stage)
attach(stage)
b2 <- survreg(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, dist="weibull")
summary(b2)
attach(stage)
head(stage)
larynx$stage <- as.numeric(larynx$stage)
attach(larynx)
b2 <- survreg(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, dist="weibull")
summary(b2)
-4.30743+0.47084
-4.30743+2*0.47084
-4.30743+3*0.47084
-4.30743+4*0.47084
larynx$stage <- as.factor(larynx$stage)
attach(larynx)
larynx$stage <- as.factor(larynx$stage)
attach(larynx)
b3 <- survreg(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, dist="weibull")
summary(b3)
-2.1080+0.1615
-2.1080+0.5928
-2.1080+1.5872
a1
a2
b1
b2
b3
a1
extractAIC(a1)
a2
extractAIC(a2)
b1
extractAIC(b1)
b2
extractAIC(b2)
b3
extractAIC(b3)
is.numeric(larynx$stage)
larynx$stage <- as.numeric(larynx$stage)
attach(larynx)
c1 <- coxph(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, ties="efron")
summary(c1)
larynx$stage <- as.factor(larynx$stage)
attach(larynx)
c2 <- coxph(Surv(time, delta==1) ~ stage+age+diagyr, data=larynx, ties="efron")
summary(c2)
library(MASS)
c1_select <- stepAIC(c1,direction="both",trace=TRUE)
summary(c1_select)
library(MASS)
c2_select <- stepAIC(c2,direction="both",trace=TRUE)
summary(c2_select)
electric <- tibble(hours=c(8064,1764,2772,3444,3542,3780,4860,5196,5448,408,1344,1440,1680,408,504,528),censor=c(0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,0),temperature=c(150,170,170,170,170,170,170,170,170,190,190,190,190,220,220,220))
View(electric)
head(electric)
detach(larynx)
attach(electric)
Surv(time, censor==1)
attach(electric)
Surv(hours, censor==1)
fit <- survfit(Surv(hours, censor==1) ~ 1, data=electric)
summary(fit)
fit1 <- survfit(Surv(hours, censor==1) ~ temperature, data=electric)
summary(fit1)
fit <- survfit(Surv(hours, censor==1) ~ 1, data=electric)
summary(fit)
fit <- survfit(Surv(hours, censor==1) ~ 1, data=electric)
summary(fit)
ggsurvplot(fit,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
fit1 <- survfit(Surv(hours, censor==1) ~ temperature, data=electric)
summary(fit1)
ggsurvplot(fit1,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
survdiff(Surv(hours, censor==1) ~ temperature, data=electric, rho=0)
a1 <- survreg(Surv(hours, censor==1) ~ 1, data=electric, dist="exponential")
summary(a1)
a2 <- survreg(Surv(hours, censor==1) ~ 1, data=electric, dist="weibull")
summary(a2)
b1 <- survreg(Surv(hours, censor==1) ~ temperature, data=electric, dist="exponential")
summary(b1)
b2 <- survreg(Surv(hours, censor==1) ~ temperature, data=electric, dist="weibull")
summary(b2)
Surv(log(hours), censor==1)
fit <- survfit(Surv(log(hours), censor==1) ~ 1, data=electric)
summary(fit)
ggsurvplot(fit,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
fit1 <- survfit(Surv(log(hours), censor==1) ~ temperature, data=electric)
summary(fit1)
ggsurvplot(fit1,conf.int = TRUE,risk.table.col = "strata",ggtheme = theme_bw())
survdiff(Surv(log(hours), censor==1) ~ temperature, data=electric, rho=0)
a1 <- survreg(Surv(log(hours), censor==1) ~ 1, data=electric, dist="exponential")
summary(a1)
a2 <- survreg(Surv(log(hours), censor==1) ~ 1, data=electric, dist="weibull")
summary(a2)
b1 <- survreg(Surv(log(hours), censor==1) ~ temperature, data=electric, dist="exponential")
summary(b1)
b2 <- survreg(Surv(log(hours), censor==1) ~ temperature, data=electric, dist="weibull")
summary(b2)
